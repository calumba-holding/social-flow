<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Social Studio</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="bg-orb orb-a" aria-hidden="true"></div>
  <div class="bg-orb orb-b" aria-hidden="true"></div>

  <main class="shell">
    <header class="hero card animate-in">
      <p class="eyebrow">Social Flow Command Deck</p>
      <h1>Social Studio</h1>
      <p class="subtitle">Bundled control surface for gateway health, profile status, and ops snapshot.</p>
      <div class="hero-meta">
        <span class="pill" id="gateway-pill">Gateway: checking...</span>
        <span class="pill soft" id="workspace-pill">Workspace: --</span>
      </div>
    </header>

    <section class="controls card animate-in stagger-1">
      <div class="control-head">
        <h2>Gateway Access</h2>
        <button id="refresh-btn" type="button">Refresh</button>
      </div>
      <label for="api-key">Gateway API key (optional)</label>
      <div class="control-row">
        <input id="api-key" type="password" placeholder="x-gateway-key for protected gateway" />
        <button id="save-key-btn" type="button">Save</button>
      </div>
      <p class="hint">If `SOCIAL_GATEWAY_REQUIRE_API_KEY=true`, enter the key here and refresh.</p>
    </section>

    <section class="grid">
      <article class="card animate-in stagger-2">
        <h3>Service</h3>
        <dl class="kv">
          <div><dt>Name</dt><dd id="service-name">--</dd></div>
          <div><dt>Version</dt><dd id="service-version">--</dd></div>
          <div><dt>Now</dt><dd id="service-now">--</dd></div>
        </dl>
      </article>

      <article class="card animate-in stagger-3">
        <h3>Auth Readiness</h3>
        <ul class="stack">
          <li id="token-facebook">Facebook token: --</li>
          <li id="token-instagram">Instagram token: --</li>
          <li id="token-whatsapp">WhatsApp token: --</li>
          <li id="app-secret">App secret: --</li>
        </ul>
      </article>

      <article class="card animate-in stagger-4">
        <h3>Ops Snapshot</h3>
        <ul class="stack" id="ops-snapshot">
          <li>Loading ops summary...</li>
        </ul>
      </article>
    </section>

    <section class="card animate-in stagger-5">
      <h3>Profiles</h3>
      <p class="hint">Configured profile names in this workspace.</p>
      <ul class="profile-list" id="profiles-list">
        <li>Loading...</li>
      </ul>
    </section>

    <section class="card animate-in stagger-6">
      <h3>Quick API Endpoints</h3>
      <ul class="stack mono">
        <li><a href="/api/health" target="_blank" rel="noreferrer">/api/health</a></li>
        <li><a href="/api/status" target="_blank" rel="noreferrer">/api/status</a></li>
        <li><a href="/api/ops/summary" target="_blank" rel="noreferrer">/api/ops/summary</a></li>
      </ul>
    </section>
  </main>

  <script src="/app.js" defer></script>
</body>
</html>
